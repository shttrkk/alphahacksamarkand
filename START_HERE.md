# üöÄ EGOR'S KILLER FEATURE - –ù–ê–ß–ù–ò –û–¢–°–Æ–î–ê!

## ‚ö° 3 –ö–û–ú–ê–ù–î–´ –î–û –ó–ê–ü–£–°–ö–ê (5 –º–∏–Ω—É—Ç)

```bash
# 1. –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø—Ä–æ–µ–∫—Ç
cd /workspace/tests/ver_3/alpha_hack_v2

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (5-10 –º–∏–Ω)
./install_dependencies.sh

# 3. –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç (2-3 –º–∏–Ω)
./test_llm_generation.sh
```

**–ï—Å–ª–∏ —Ç–µ—Å—Ç –ø—Ä–æ—à—ë–ª —É—Å–ø–µ—à–Ω–æ:**

```bash
# 4. –ü–æ–ª–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è (2-3 —á–∞—Å–∞, –∑–∞–ø—É—Å—Ç–∏—Ç—å –ù–ê –ù–û–ß–¨)
nohup ./run_llm_generation.sh > llm_gen.log 2>&1 &

# –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å:
tail -f llm_gen.log
```

**–£—Ç—Ä–æ–º:**

```bash
# 5. –ü–æ–∏—Å–∫ —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏
python scripts/03_run_search.py

# 6. Submit!
ls -lh submit_alpha_rag_elite.csv
```

---

## üìÅ –ß—Ç–æ –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è?

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| **install_dependencies.sh** | –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –í–°–ï–• –±–∏–±–ª–∏–æ—Ç–µ–∫ (PyTorch, Transformers, FAISS, –∏ —Ç.–¥.) |
| **test_llm_generation.sh** | –¢–µ—Å—Ç –Ω–∞ 100 –∑–∞–ø—Ä–æ—Å–∞—Ö (~3 –º–∏–Ω) |
| **run_llm_generation.sh** | –ü–æ–ª–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è 7000 –∑–∞–ø—Ä–æ—Å–æ–≤ (~2-3 —á–∞—Å–∞) |
| **QUICK_START.md** | –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è + troubleshooting |
| **tools/generate_query_variants.py** | –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç LLM –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ |
| **config/settings.py** | –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ) |
| **scripts/03_run_search.py** | –ü–æ–∏—Å–∫ —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ |

---

## üéØ –ß—Ç–æ —ç—Ç–æ –¥–∞—Å—Ç?

**–°–µ–π—á–∞—Å:** Hit@5 = 0.31
**–û–∂–∏–¥–∞–µ–º:** Hit@5 = 0.37-0.41 (+6-10pp) üéØ

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. LLM –ø–µ—Ä–µ—Ñ–æ—Ä–º—É–ª–∏—Ä—É–µ—Ç "—Å–ª–æ–º–∞–Ω–Ω—ã–µ" –∑–∞–ø—Ä–æ—Å—ã
2. "–±–∞–±–∫–∏ –Ω–∞ –∫–∞—Ä—Ç—É" ‚Üí "–ö–∞–∫ –ø–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–Ω–∫–æ–≤—Å–∫—É—é –∫–∞—Ä—Ç—É –¥–µ–Ω—å–≥–∞–º–∏"
3. Multi-query retrieval: –∏—â–µ–º –ø–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—É + 2 –≤–∞—Ä–∏–∞–Ω—Ç–∞
4. Weighted RRF fusion ‚Üí TOP-5

---

## ‚öôÔ∏è –í—Ö–æ–¥–Ω—ã–µ/–≤—ã—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã

**–í—Ö–æ–¥–Ω–æ–π:**
- `data/raw/questions_clean.csv`
- –ö–æ–ª–æ–Ω–∫–∏: `q_id`, `query`

**–í—ã—Ö–æ–¥–Ω–æ–π:**
- `data/processed/query_variants.parquet`
- –ö–æ–ª–æ–Ω–∫–∏: `q_id`, `original_query`, `variant_1`, `variant_2`, `num_valid_variants`

---

## üÜò –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ß–∏—Ç–∞–π:** `QUICK_START.md` (—Ä–∞–∑–¥–µ–ª Troubleshooting)

**–ë—ã—Å—Ç—Ä—ã–µ —Ñ–∏–∫—Å—ã:**

1. **CUDA out of memory:**
   ```bash
   # –í run_llm_generation.sh –∏–∑–º–µ–Ω–∏:
   --batch_size 4  # –≤–º–µ—Å—Ç–æ 8
   ```

2. **–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω:**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Ç—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:
   pwd  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: /workspace/tests/ver_3/alpha_hack_v2
   ```

3. **–ú–æ–¥—É–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω:**
   ```bash
   # –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ./install_dependencies.sh
   ```

---

## üìä A/B —Ç–µ—Å—Ç—ã (–ø–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏)

**–ë–µ–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:**
```bash
# –í config/settings.py:
USE_QUERY_VARIANTS = False
python scripts/03_run_search.py
```

**–° –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ (—Ä–∞–∑–Ω—ã–µ –≤–µ—Å–∞):**
```python
# config/settings.py:
VARIANT_QUERY_WEIGHT = 0.5  # –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–æ
VARIANT_QUERY_WEIGHT = 0.7  # –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è
VARIANT_QUERY_WEIGHT = 1.0  # –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–æ
```

–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–π `python scripts/03_run_search.py` –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è.

---

## ‚úÖ –í—Å–µ —Ñ–∞–π–ª—ã —É–∂–µ –∑–∞–ø—É—à–µ–Ω—ã!

**–í–µ—Ç–∫–∞:** `claude/egor-killer-01PoWpmzz2iYpxUjuAZi7KmC`

**–ö–æ–º–º–∏—Ç—ã:**
- `a3a643e` - –û—Å–Ω–æ–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- `a5c2ad7` - –§–∏–∫—Å—ã + —Å–∫—Ä–∏–ø—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏

---

## üéì –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

–ß–∏—Ç–∞–π `QUICK_START.md` –¥–ª—è:
- –î–µ—Ç–∞–ª—å–Ω–æ–≥–æ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞
- Troubleshooting guide
- –ü–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ç—é–Ω–∏–Ω–≥–∞
- Checklist

---

## üöÄ –ü–û–ï–•–ê–õ–ò!

```bash
cd /workspace/tests/ver_3/alpha_hack_v2
./install_dependencies.sh
./test_llm_generation.sh
```

**–ü–æ–≥–Ω–∞–ª–∏ –∫ 0.40+!** üí™üî•
